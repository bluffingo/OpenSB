{% extends "_layout.twig" %}
{% block title %}Settings{% endblock %}

	{% block content %}
		{% if error %}
			<div class="header_message header-danger" role="alert">{{ error }}</div>
		{% endif %}
		<form action="settings" method="post" enctype="multipart/form-data">
		<table class="settings">
			<caption><h3>Your account</h3></caption>
			<tr>
				<th>Option</th>
				<th>Value</th>
			</tr>
			<tr>
				<td class="a">Username</td>
				<td class="b">{{ user_data.name }}</td>
			</tr>
			<tr>
			<tr>
				<td class="a">Email address</td>
				<td class="b">{{ user_data.name }}</td>
			</tr>
			<tr>
				<td class="a">Password</td>
				<td class="b">
					<input type="password" name="current_pass" size="30" maxlength="256"
						   placeholder="Current password"><br>
					<input type="password" name="pass" size="30" maxlength="256" placeholder="New password"><br>
					<input type="password" name="pass2" size="30" maxlength="256"
						   placeholder="Confirm new password">
				</td>
			</tr>
		</table>

		<table class="settings">
			<caption><h3>Your profile</h3></caption>
			<tr>
				<th>Option</th>
				<th>Value</th>
			</tr>
			<tr>
				<td class="a">Profile picture</td>
				<td class="b">
					<input class="form-control" type="file" name="profilePicture" id="profilePicture">
				</td>
			</tr>
			<tr>
				<td class="a">Profile banner (on Biscuit frontend)</td>
				<td class="b">
					<input class="form-control" type="file" name="profileBanner" id="profileBanner">
				</td>
			</tr>
			<tr>
				<td class="a">Display name</td>
				<td class="b"><input type="text" name="title" size="45" maxlength="50" value="{{ user_data.title }}"></td>
			</tr>
			<tr>
				<td class="a">
					Description
					<br><em>Markdown is allowed.</em>
				</td>
				<td class="b"><textarea name="about" rows="5" cols="80" wrap="virtual">{{ user_data.about }}</textarea></td>
			</tr>
			<tr>
				<td class="a">Username color</td>
				<td class="b"><input name="customcolor" type="color"
									 value="{{ user_data.customcolor | default('523bb8') }}"></td>
			</tr>
		</table>

		<table class="settings">
			<caption><h3>Filtering</h3></caption>
			<tr>
				<th>Option</th>
				<th>Value</th>
			</tr>
			<tr>
				<td class="a">Sensitive content</td>
				<td class="b">
					<input type="checkbox" name="rating" id="rating" value="true" {% if user_data.comfortable_rating == "mature" %}checked{% endif %}>
					<label for="rating"> Enable sensitive content</label><br>
				</td>
			<tr>
				<td class="a">Blacklisted tags</td>
				<td class="b">
					<textarea class="form-submit" name="blacklisted_tags" rows="5" cols="80" wrap="hard">{% for tag in user_data.blacklisted_tags %}{{ tag }},{% endfor %}</textarea>
				</td>
			</tr>
		</table>

		<div class="right">
			<input type="submit" id="upload" name="save" class="button button-primary" value="Save Changes">
		</div>
	{% endblock %}